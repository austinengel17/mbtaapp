{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport * as d3 from \"d3\";\nfunction Draw(_ref) {\n  _s();\n  let {\n    svgRef,\n    stationData\n  } = _ref;\n  return function (stationData) {\n    var stationData = stationData;\n    var lineYAxis = 150;\n    var circleRadius = 2;\n    console.log(stationData);\n    useEffect(() => {\n      var svg = d3.select(\"svg\");\n      var stopGroup = svg.selectAll(\"g\").data(stationData).enter().append(\"g\").attr(\"transform\", function (d, i) {\n        return \"translate(\" + (30 + i * 60) + \", \" + lineYAxis + \")\";\n      });\n      stopGroup.append(\"circle\").attr(\"cx\", 0).attr(\"cy\", 0).attr(\"r\", circleRadius).attr(\"fill\", \"green\").attr(\"class\", d => Object.keys(d)[0]);\n      stopGroup.append(\"text\").text(function (d) {\n        return d[Object.keys(d)[0]].name;\n      }).attr(\"width\", 100).attr(\"x\", 0) // Set the x-coordinate\n      .attr(\"y\", -10).attr(\"text-anchor\", \"middle\").attr(\"font-size\", 5);\n      var stops = svg.selectAll(\"circle\").nodes();\n      for (var i = 0; i < stops.length - 1; i++) {\n        var node1 = stops[i];\n        var node2 = stops[i + 1];\n        var circlePosition1 = stops[i].getBoundingClientRect();\n        var circlePosition2 = stops[i + 1].getBoundingClientRect();\n        svg.append(\"line\").attr(\"x1\", +circlePosition1.left + window.pageXOffset + circleRadius * 2).attr(\"y1\", 150).attr(\"x2\", +circlePosition2.left + window.pageXOffset).attr(\"y2\", 150).attr(\"stroke\", \"green\").attr(\"stroke-width\", 1);\n        console.log(\"Circle absolute position:\", node1.r);\n        console.log(stops[i]);\n      }\n    }, []);\n  }(stationData);\n}\n_s(Draw, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Draw;\nexport default Draw;\nvar _c;\n$RefreshReg$(_c, \"Draw\");","map":{"version":3,"names":["useState","useEffect","d3","Draw","_ref","_s","svgRef","stationData","lineYAxis","circleRadius","console","log","svg","select","stopGroup","selectAll","data","enter","append","attr","d","i","Object","keys","text","name","stops","nodes","length","node1","node2","circlePosition1","getBoundingClientRect","circlePosition2","left","window","pageXOffset","r","_c","$RefreshReg$"],"sources":["/Users/austin/Dev Projects/mbtaapp/mbta-frontend/src/draw.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport * as d3 from \"d3\";\n\n  \n  function Draw({ svgRef, stationData}) {\n  var stationData = stationData;\n  var lineYAxis = 150;\n  var circleRadius = 2;\n  console.log(stationData);\n  useEffect(()=>{\n\n    var svg = d3.select(\"svg\");\n    var stopGroup = svg.selectAll(\"g\")\n    .data(stationData)\n    .enter()\n    .append(\"g\")\n    .attr(\"transform\", function(d, i) {\n        return \"translate(\" + (30 + i * 60) + \", \" + (lineYAxis) + \")\";\n  });\n  stopGroup.append(\"circle\")\n    .attr(\"cx\", 0)\n    .attr(\"cy\", 0)\n    .attr(\"r\", circleRadius)\n    .attr(\"fill\", \"green\")\n    .attr(\"class\", d=>Object.keys(d)[0]);\n\n   stopGroup.append(\"text\")\n      .text(function(d) {\n        return d[Object.keys(d)[0]].name;})\n      .attr(\"width\", 100)\n      .attr(\"x\", 0) // Set the x-coordinate\n      .attr(\"y\", -10)\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"font-size\", 5);\n  var stops = svg.selectAll(\"circle\").nodes();\n   \n  for(var i = 0; i < stops.length-1; i++){\n    var node1 = stops[i];\n    var node2 = stops[i+1];\n    var circlePosition1 = stops[i].getBoundingClientRect();\n    var circlePosition2 = stops[i+1].getBoundingClientRect();\n\n    svg.append(\"line\")\n    .attr(\"x1\", +circlePosition1.left + window.pageXOffset + circleRadius*2)\n    .attr(\"y1\", 150)\n    .attr(\"x2\", +circlePosition2.left + window.pageXOffset)\n    .attr(\"y2\", 150)\n    .attr(\"stroke\", \"green\")\n    .attr(\"stroke-width\", 1);\n\n    console.log(\"Circle absolute position:\", node1.r);\n    console.log(stops[i]);\n  }\n   },[]);  \n \n}\n\nexport default Draw;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}